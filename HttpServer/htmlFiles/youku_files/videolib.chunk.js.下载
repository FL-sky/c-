(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1591:function(e,t,a){a(119),e.exports=a(1592)},1592:function(e,t,a){"use strict";a.r(t),function(e){var r=a(0),n=a.n(r),o=a(52),c=a.n(o),i=a(25),s=a.n(i),l=a(24),p=(a(665),a(31)),u=a(712),d=a(702);t.default=function(){var e=s()({history:Object(p.a)(),initialState:{videoList:{data:window.__INITIAL_DATA__||[]}}});u.a.forEach((function(t){e.model(t)})),e.router((function(){return n.a.createElement(l.BrowserRouter,null,n.a.createElement(d.a,null))}));var t=e.start();window.__VERSION__="1.1.35",window._SSRERR_?c.a.render(n.a.createElement(t,null),document.getElementById("app")):c.a.hydrate(n.a.createElement(t,null),document.getElementById("app"))}()}.call(this,a(111)(e))},1593:function(e,t,a){},1594:function(e,t,a){},474:function(e,t,a){e.exports={yk_pack:"categorypack_yk_pack",yk_pack_v:"categorypack_yk_pack_v",yk_pack_focus:"categorypack_yk_pack_focus",pack_cover:"categorypack_pack_cover",bg:"categorypack_bg",pack_rank:"categorypack_pack_rank",pack_score:"categorypack_pack_score",pack_tag:"categorypack_pack_tag",tag_vip:"categorypack_tag_vip",tag_red:"categorypack_tag_red",tag_gray:"categorypack_tag_gray",info_list:"categorypack_info_list",title:"categorypack_title",short_title:"categorypack_short_title",rows_title:"categorypack_rows_title",subtitle:"categorypack_subtitle",p_rt:"categorypack_p_rt",p_rb:"categorypack_p_rb",p_lt:"categorypack_p_lt",p_lb:"categorypack_p_lb",focus_bg:"categorypack_focus_bg"}},535:function(e,t,a){e.exports={category_tag:"category_category_tag",tag_label:"category_tag_label",selected:"category_selected"}},665:function(e,t,a){"use strict";var r=a(11),n=a.n(r),o=a(5),c=a.n(o),i=a(6),s=a.n(i),l=a(8),p=a.n(l),u=a(9),d=a.n(u),f=a(3),y=a.n(f),m=a(0),h=a.n(m),v=a(25),g=a(499),_=a.n(g),k=(a(216),a(231),a(14)),b=a.n(k),O=a(515),E=a(482),w=a(84),T=a(464),S=a(7),j=a(535),N=a.n(j);a(1593),a(1594);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=y()(e);if(t){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return d()(this,a)}}var R=function(e){p()(a,e);var t=C(a);function a(e){var r;return c()(this,a),(r=t.call(this,e)).data=e.data,r.hideTopCat=e.hideTopCat,r.query=r.getQuery(r.data.url),r.param=r.getParam(r.query),r}return s()(a,[{key:"getLocation",value:function(e){return e.split(this.query)}},{key:"getQuery",value:function(e){var t=e.match(/[show|video]\/([\s\S]*)\.html/);return t?t[1]:"c_97"}},{key:"getType",value:function(e){return e.match(/\/show/)?"show":"video"}},{key:"getParam",value:function(e){for(var t=e.split("_"),a={},r=0;r<t.length;)a[t[r]]=decodeURIComponent(t[r+1]),r+=2;return a}},{key:"getUrl",value:function(e,t,a){var r=[],n=Object.assign({},this.param);n[e]=t,Object.keys(n).forEach((function(e,t){r.push(e),r.push(n[e])}));var o=a;return"/category/"+(/[show|video]\//.test(o)?o:"".concat(o,"/"))+r.join("_")+(location[1]||".html")}},{key:"addUrlTheme",value:function(e){var t="show"===e.type?"show":"video",a=this.props.data.theme||Object(S.l)().theme;return a?"/category/".concat(t,"/c_").concat(e.key,".html?theme=").concat(a):"/category/".concat(t,"/c_").concat(e.key,".html")}},{key:"jumpToTarget",value:function(e){try{var t=this.getQuery(e),a=this.getParam(t);this.param=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a),a.p=1,a.type=this.getType(e),a.loadNewCategory=!0;var r=this.props.getPageData;r&&r(a),window&&window.history&&window.history.replaceState(null,null,e)}catch(o){console.log("history--replaceState-error",o)}}},{key:"render",value:function(){var e=this,t=this.param,a=this.props.data||{};return h.a.createElement("div",{className:N.a.category_tag},!1===this.hideTopCat&&h.a.createElement("dl",null,h.a.createElement("dt",null,h.a.createElement("span",{className:N.a.tag_label},"\u5206\u7c7b")),h.a.createElement("dd",null,a.category.map((function(t,a){return t.hide?"":h.a.createElement("a",{className:e.param.c===t.key?N.a.selected:"",key:a,onClick:function(){e.jumpToTarget(e.addUrlTheme(t))}},t.name)})))),a.filter?a.filter.filter.map((function(r,n){r.list="common"===r.type?a.commonFilter[r.key]:r.list;var o=decodeURIComponent(t[r.key]||"");return h.a.createElement("dl",{key:n},h.a.createElement("dt",null,h.a.createElement("span",{className:N.a.tag_label},r.label)),h.a.createElement("dd",null,r.list.map((function(t,n){var c;c=""===o&&0===n||String(t.key)===String(o)?N.a.selected:"";var i=e.getUrl(r.key,t.key,a.listType),s=a.theme||Object(S.l)().theme,l=s?"".concat(i,"?theme=").concat(s):"".concat(i);return t.hide?"":h.a.createElement("a",{className:c,key:n,onClick:function(){e.jumpToTarget(l,t.key)}},t.name)}))))})):"")}}]),a}(m.Component),D=a(474),x=a.n(D);function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=y()(e);if(t){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return d()(this,a)}}var U={"\u72ec\u64ad":"red","\u76f4\u64ad":"red","\u76f4\u64ad\u4e2d":"red","\u51fa\u54c1":"red","\u81ea\u9891\u9053":"red","\u9ad8\u6e05\u7ecf\u5178":"red","\u675c\u6bd4":"vip",HDR:"vip","\u4ed8\u8d39":"vip","\u8d85\u524d\u70b9\u64ad":"vip","\u4f53\u80b2\u4f1a\u5458":"vip","VIP\xb7\u534a\u4ef7":"vip","VIP\xb7\u7528\u5238":"vip",VIP:"vip","\u4f1a\u5458\u7528\u5238":"vip","\u7528\u5238":"vip","\u4f1a\u5458\u514d\u8d39":"vip","1080P":"vip","\u4f1a\u5458\u6253\u6298":"vip","\u9884\u544a":"blue","\u4e92\u52a8":"blue","\u5e7f\u544a":"gray"},I={UPDATE_STATUS:"",SCORE:"pack_score",DOUBAN_SCORE:"pack_score"};function L(e){if(!e||!e.rightTagText)return"";var t=function(e){var t;return b()(x.a.avatarItem,(t={},n()(t,x.a.tag_red,"red"===e),n()(t,x.a.tag_vip,"vip"===e),n()(t,x.a.tag_gray,"gray"===e),n()(t,"","blue"===e),t))}(U[e.rightTagText]||"red");return h.a.createElement("span",{className:x.a.p_rt},h.a.createElement("span",{className:"".concat(x.a.pack_tag," ").concat(t)},e.rightTagText))}var A=function(e){p()(a,e);var t=M(a);function a(e){var r;return c()(this,a),(r=t.call(this,e)).isFocus="focus"===e.type,r}return s()(a,[{key:"render",value:function(){var e="vertical"===this.props.type?x.a.yk_pack_v:x.a.yk_pack,t="vertical"===this.props.type,a=this.props.data.img,r=this.props.data,n=r.videoLink,o=r.title,c=r.summaryType,i=r.summary;return"\u8d44\u6599"===i&&(n="//so.youku.com/search_video/q_".concat(o)),h.a.createElement("div",{className:e,type:this.props.type},h.a.createElement("div",{className:x.a.pack_cover},h.a.createElement("a",{href:n,title:o,target:"_blank"},a&&h.a.createElement("img",{src:a}),h.a.createElement("div",{className:x.a.bg}),L(this.props.data),function(e,t){var a=I[e]||"";return h.a.createElement("span",{className:x.a.p_rb},h.a.createElement("span",{className:x.a[a]},t))}(c,i))),function(e,t){return h.a.createElement("div",{className:x.a.info_list},h.a.createElement("div",{className:"".concat(x.a.title," ").concat(t||e.subTitle?x.a.short_title:"")},h.a.createElement("a",{href:e.videoLink,target:"_blank",title:e.title},e.title)),e.subTitle?h.a.createElement("div",{className:x.a.subtitle},e.subTitle):"")}(this.props.data,t))}}]),a}(m.Component);n()(A,"defaultProps",{data:null,type:"vertical"});var B=A,V=a(521),q=a.n(V),F=a(668),H=a.n(F),Q=a(701),Y=a.n(Q),J=a(700),K=a.n(J);a(695);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=y()(e);if(t){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return d()(this,a)}}a(504);var X,Z={p:"",sid:"",s:"",aw:"w",k:"",rst:"h5,img"},$=[],ee=!1,te=!0,ae=null,re=null,ne=function(e){p()(a,e);var t=G(a);function a(e){var r;c()(this,a),(r=t.call(this,e)).state={hasMore:!0,isLoadingMore:!1,page:2};var n=100*Math.random();r.isNewAd=!1;var o=Object(S.l)().isFocusNewad;return r.isNewAd="1"===o||"0"===o?"1"===o:window.isRequest&&window.adPercent&&n<window.adPercent,r}return s()(a,[{key:"requestAD",value:function(e){if(e&&!(e.length<1)){var t="";if(e.map((function(e){",26,171".indexOf(",".concat(e.adId,","))>-1&&(t+="".concat(e.adId,","))})),t){var a=navigator.userAgent.toLowerCase(),r=Z;r.p=t,r.ios=-1!==a.indexOf("mac")||-1!==a.indexOf("ios"),r.compatible=1,Object(S.h)("//html.atm.youku.com/html?"+Object(S.q)(r),{charset:"gbk"})}}}},{key:"getPageData",value:function(e){var t=this,a=this;_()({url:"/category/data",data:e,withCredentials:!0}).then((function(r){if(r&&r.success){var n=a.state.page+1;if(ee=!!e.loadNewCategory,1===e.p&&(n=2,$=[],te=!1),r.data&&r.data.categoryVideos&&r.data.categoryVideos.length>0)r.data.categoryFilter&&(ae=z({},r.data.categoryFilter)),r.data.adContent&&(re=r.data.adContent),r.data.theme&&(X=r.data.theme),$=$.concat(r.data.categoryVideos).filter((function(e){return"\u8d44\u6599"!==e.summary})),a.setState({isLoadingMore:!1,hasMore:!0,page:n}),(ee?$.length:$.length+a.props.serverData.length)<14&&(a.setState({isLoadingMore:!0}),e.p=n,t.getPageData(e));else a.setState({hasMore:!1})}}))}},{key:"componentDidMount",value:function(){var e,t=this;function a(){var e=Object(S.g)(location.href),a=Object(S.f)(e)||{c:97};a.type=Object(S.k)(location.href),a.p=t.state.page,t.getPageData(a)}window.isRequest&&!this.isNewAd&&this.requestAD(this.props.adList),window.addEventListener("scroll",(function(r){var n=Object(S.i)();t.state.isLoadingMore||!t.state.hasMore||n>800||(t.setState({isLoadingMore:!0}),e&&clearTimeout(e),e=setTimeout((function(){return a()}),50))}),!1),t.props.serverData.length<14&&(t.setState({isLoadingMore:!0}),a())}},{key:"Tans",value:function(e){var t=this;this.setState({observer:e},(function(){t.state.observer.next(!0)}))}},{key:"render",value:function(){var e=this,t=b()(H.a.s_body,H.a.video_list),a=z(z({},ae||this.props.filterData),{},{theme:X||this.props.theme}),r={changeSkin:!1===this.props.UOSMode,helper:!0,backTop:!0},n=ee?re:this.props.adContent;return h.a.createElement("div",{className:"".concat(K.a.normal," window")},h.a.createElement("div",{style:{display:!1===this.props.UOSMode?"block":"none"}},h.a.createElement(E.YoukuCommonHeader,{iconConfig:{iconKey:"_default"},isNationalDay:!1,focusWhite:!0,enableScroll:!0,isHideTopBar:!0,theme:this.props.theme,extendStyle:{style:{position:"relative"}}})),h.a.createElement("div",{className:t},h.a.createElement("div",{style:{paddingTop:this.props.UOSMode?0:72},className:"".concat(q.a.container)},!1===this.props.UOSMode&&this.props.adContent&&Array.isArray(this.props.adContent)&&this.props.adContent.length>0?h.a.createElement(O.a,{data:this.props.adContent[0],headerId:"maintitle_".concat(this.props.adContent[0].moduleId)}):""),h.a.createElement("div",{style:{marginTop:"40px"},className:Y.a.mod},h.a.createElement("div",{className:"".concat(q.a.container)},h.a.createElement(R,{data:a,getPageData:this.getPageData.bind(this),hideTopCat:this.props.UOSMode&&"1.0.0"===this.props.UOSVersion}))),h.a.createElement("div",{className:Y.a.mod},h.a.createElement("div",{className:"".concat(q.a.container)},h.a.createElement("div",{className:"".concat(H.a.container_inner)},(te?this.props.serverData.length:$.length)?(te?this.props.serverData:$).map((function(e,t){return h.a.createElement("div",{className:"g-col",key:"s".concat(t)},h.a.createElement("div",{className:"g-box"},h.a.createElement(B,{data:e,type:e.type})))})):h.a.createElement("div",{className:"null-seek"},"\u5f88\u62b1\u6b49\uff0c\u5c0f\u9177\u6ca1\u6709\u7b5b\u9009\u5230\u76f8\u5173\u89c6\u9891"),te&&this.state.page>2&&$.length>0?$.map((function(e,t){return h.a.createElement("div",{className:"g-col",key:"c".concat(t)},h.a.createElement("div",{className:"g-box"},h.a.createElement(B,{data:e,type:e.type})))})):""))),h.a.createElement(T.YoukuFixedBar,{fixedBarShow:r}),!1===this.props.UOSMode&&n&&Array.isArray(n)&&n.length>1?h.a.createElement("div",{className:"".concat(q.a.container)},h.a.createElement(O.a,{data:n[1],headerId:"maintitle_".concat(n[1].moduleId)})):""),!1===this.props.UOSMode&&h.a.createElement(w.YouKuFooter,{TansEvent:function(t){e.Tans(t)}}))}}]),a}(m.Component),oe=Object(v.connect)((function(e){var t=[];e.videoList.data.adContent&&Array.isArray(e.videoList.data.adContent)&&e.videoList.data.adContent.forEach((function(e){t.push({adId:e.adId,adType:e.adType})}));var a=e.videoList.data||{};return{serverData:a.categoryVideos?a.categoryVideos.filter((function(e){return"\u8d44\u6599"!==e.summary})):[],filterData:a.categoryFilter,adContent:a.adContent?a.adContent:null,adList:t,UOSMode:a.UOSMode,UOSVersion:a.UOSVersion,theme:a.theme}}))(ne),ce=[{path:"/category/show",component:oe},{path:"/category/video",component:oe}];t.a=ce},668:function(e,t,a){e.exports={s_body:"videolist_s_body",container_inner:"videolist_container_inner",video_list:"videolist_video_list",list:"videolist_list"}},700:function(e,t,a){e.exports={normal:"app_normal",container:"app_container"}},701:function(e,t,a){},702:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(6),c=a.n(o),i=a(8),s=a.n(i),l=a(9),p=a.n(l),u=a(3),d=a.n(u),f=a(0),y=a.n(f),m=a(24),h=(a(128),a(665));a(700),a(695),a(195);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=d()(e);if(t){var n=d()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return p()(this,a)}}a(530),a(531);var g=function(e){s()(a,e);var t=v(a);function a(){return n()(this,a),t.apply(this,arguments)}return c()(a,[{key:"render",value:function(){return y.a.createElement(m.Switch,null,h.a.map((function(e){var t=e.path,a=e.exact,r=e.component;return y.a.createElement(m.Route,{key:t,path:t,exact:a,component:r})})))}}]),a}(f.Component);t.a=g},712:function(e,t,a){"use strict";t.a=[{namespace:"videoList",state:{data:{}}},{namespace:"header",state:{headerMsg:{}}}]}},[[1591,11,0,1]]]);